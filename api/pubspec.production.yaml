# Production pubspec.yaml for Docker/Cloud Run deployment
# This file replaces path dependencies with published or git versions
#
# Usage: Copy this file to pubspec.yaml before Docker build
#   cp pubspec.production.yaml pubspec.yaml
#   docker build -t som-api .
#
# Or use in cloudbuild.yaml (automated)

name: som_api
description: Dart Frog API for SOM
version: 0.1.0
publish_to: none

environment:
  sdk: '>=3.5.0 <4.0.0'

dependencies:
  dart_frog: ^1.1.0
  dart_jsonwebtoken: ^3.3.1
  uuid: ^4.4.0
  crypto: ^3.0.3
  logging: ^1.2.0
  intl: ^0.20.2
  collection: ^1.18.0
  path: ^1.9.0
  mime: ^2.0.0
  http_parser: ^4.0.2
  supabase: ^2.5.6
  mailer: ^6.6.0
  pdf: ^3.11.3

  # Local dependency bundled in Docker context
  som_manager:
    path: ../lib/generated

  # For production: Use git reference instead of local path
  # TODO: Update to pub.dev version when ednet_core is published
  ednet_core:
    git:
      url: https://github.com/ednet-dev/cms.git
      path: packages/core
      ref: main

dev_dependencies:
  dart_frog_test: ^0.1.2
  test: ^1.25.5
  lints: ^6.0.0
